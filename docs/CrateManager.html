<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>CrateManager - Documentation</title>

    <script src="scripts/prettify/prettify.js"></script>
    <script src="scripts/prettify/lang-css.js"></script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="https://code.ionicframework.com/ionicons/2.0.1/css/ionicons.min.css">
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>
<body>

<input type="checkbox" id="nav-trigger" class="nav-trigger" />
<label for="nav-trigger" class="navicon-button x">
  <div class="navicon"></div>
</label>

<label for="nav-trigger" class="overlay"></label>

<nav>
    <li class="nav-link nav-home-link"><a href="index.html">Home</a></li><li class="nav-heading">Classes</li><li class="nav-heading"><span class="nav-item-type type-class">C</span><span class="nav-item-name"><a href="CrateManager.html">CrateManager</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="CrateManager.html#__normaliseContext">__normaliseContext</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="CrateManager.html#addBlankNode">addBlankNode</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="CrateManager.html#addEntity">addEntity</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="CrateManager.html#addFile">addFile</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="CrateManager.html#addFileOrFolder">addFileOrFolder</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="CrateManager.html#addFolder">addFolder</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="CrateManager.html#deleteAllProperties">deleteAllProperties</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="CrateManager.html#deleteEntity">deleteEntity</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="CrateManager.html#deleteProperty">deleteProperty</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="CrateManager.html#exportCrate">exportCrate</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="CrateManager.html#exportEntityTemplate">exportEntityTemplate</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="CrateManager.html#flatten">flatten</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="CrateManager.html#getContext">getContext</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="CrateManager.html#getEntities">getEntities</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="CrateManager.html#getEntity">getEntity</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="CrateManager.html#getEntityTypes">getEntityTypes</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="CrateManager.html#getErrors">getErrors</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="CrateManager.html#getRootDataset">getRootDataset</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="CrateManager.html#getWarnings">getWarnings</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="CrateManager.html#ingestAndLink">ingestAndLink</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="CrateManager.html#linkEntity">linkEntity</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="CrateManager.html#locateEntity">locateEntity</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="CrateManager.html#purgeUnlinkedEntities">purgeUnlinkedEntities</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="CrateManager.html#resolveLinkedEntityAssociations">resolveLinkedEntityAssociations</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="CrateManager.html#setContext">setContext</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="CrateManager.html#setProfileManager">setProfileManager</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="CrateManager.html#setProperty">setProperty</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="CrateManager.html#unlinkEntity">unlinkEntity</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="CrateManager.html#updateProperty">updateProperty</a></span></li><li class="nav-heading"><span class="nav-item-type type-class">C</span><span class="nav-item-name"><a href="ProfileManager.html">ProfileManager</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="ProfileManager.html#getAllInputs">getAllInputs</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="ProfileManager.html#getClasses">getClasses</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="ProfileManager.html#getEntityTypeHierarchy">getEntityTypeHierarchy</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="ProfileManager.html#getInputsFromProfile">getInputsFromProfile</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="ProfileManager.html#getLayout">getLayout</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="ProfileManager.html#getPropertyAssociations">getPropertyAssociations</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="ProfileManager.html#getPropertyDefinition">getPropertyDefinition</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="ProfileManager.html#getTypeDefinition">getTypeDefinition</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="ProfileManager.html#getTypeLabel">getTypeLabel</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="ProfileManager.html#mapTypeHierarchies">mapTypeHierarchies</a></span></li><li class="nav-heading"><a href="global.html">Globals</a></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#isURL">isURL</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#mintNewCrate">mintNewCrate</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#normalise">normalise</a></span></li><li class="nav-item"><span class="nav-item-type type-function">F</span><span class="nav-item-name"><a href="global.html#normaliseEntityType">normaliseEntityType</a></span></li>
</nav>

<div id="main">
    
    <h1 class="page-title">CrateManager</h1>
    

    




<section>

<header>
    
        <h2>
        CrateManager
        </h2>
        
    
</header>

<article>
    <div class="container-overview">
    
        
<div class="section-method">

    

    <h4 class="name" id="CrateManager"><span class="type-signature"></span>new CrateManager<span class="signature">()</span><span class="type-signature"></span></h4>

    



<div class="description">
    <p>A class to work with RO-Crates</p>
</div>





<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="CrateManager_crate-manager.js.html">CrateManager/crate-manager.js</a>, <a href="CrateManager_crate-manager.js.html#line30">line 30</a>
    </li></ul></dd>
    

    

    

    
</dl>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            

            <td class="type">
            
                
<span class="param-type"><code>crate</code></span>


            
            </td>

            

            

            <td class="description last">
                <p>an RO Crate to handle</p>
                
            </td>
        </tr>

    
    </tbody>
</table>
















</div>
    
    </div>

    

    

    

     

    

    

    
        <h3 class="subsection-title">Methods</h3>

        
            
<div class="section-method">

    

    <h4 class="name" id="__normaliseContext"><span class="type-signature"></span>__normaliseContext<span class="signature">(context)</span><span class="type-signature"></span></h4>

    



<div class="description">
    <p>Collapse all objects into a single object</p>
</div>





<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="CrateManager_crate-manager.js.html">CrateManager/crate-manager.js</a>, <a href="CrateManager_crate-manager.js.html#line1483">line 1483</a>
    </li></ul></dd>
    

    

    

    
</dl>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>context</code></td>
            

            <td class="type">
            
                
<span class="param-type"><code>*</code></span>


            
            </td>

            

            

            <td class="description last">
                
                
            </td>
        </tr>

    
    </tbody>
</table>














<div class="section-returns">
<h5>Returns:</h5>

        


<div class="param-desc">
    <p>context</p>
</div>

    
</div>



</div>
        
            
<div class="section-method">

    

    <h4 class="name" id="addBlankNode"><span class="type-signature"></span>addBlankNode<span class="signature">(type)</span><span class="type-signature"></span></h4>

    



<div class="description">
    <p>Use this when you want to add a non contextual entity to the graph. In thoses
cases providing an @id and name don't really make sense even though those properties are still required
therefore this method simplifies the process of adding those entity types. For example,
Actions (e.g. CreateAction), Relationships, GeoShape, GeoCoordinates etc</p>
</div>





<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="CrateManager_crate-manager.js.html">CrateManager/crate-manager.js</a>, <a href="CrateManager_crate-manager.js.html#line714">line 714</a>
    </li></ul></dd>
    

    

    

    
</dl>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>type</code></td>
            

            <td class="type">
            
                
<span class="param-type"><code>string</code></span>


            
            </td>

            

            

            <td class="description last">
                <p>the entity type to configure for the new entity</p>
                
            </td>
        </tr>

    
    </tbody>
</table>














<div class="section-returns">
<h5>Returns:</h5>

        


<div class="param-desc">
    <p>the entity</p>
</div>

    
</div>



<div class="section-examples">
<h5>Example</h5>

    <pre class="prettyprint"><code>const cm = new CrateManager({ crate })
let r = cm.addBlankNode('Relationship);

r === {
    '@id': '_:Relationship1',
    '@type': [ 'Relationship' ],
    name: '_:Relationship1'
}</code></pre>

</div>

</div>
        
            
<div class="section-method">

    

    <h4 class="name" id="addEntity"><span class="type-signature"></span>addEntity<span class="signature">(entity)</span><span class="type-signature"></span></h4>

    



<div class="description">
    <p>The entity must have '@id' and '@type' defined.</p>
</div>





<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="CrateManager_crate-manager.js.html">CrateManager/crate-manager.js</a>, <a href="CrateManager_crate-manager.js.html#line644">line 644</a>
    </li></ul></dd>
    

    

    

    
</dl>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>entity</code></td>
            

            <td class="type">
            
                
<span class="param-type"><code>Object</code></span>


            
            </td>

            

            

            <td class="description last">
                <p>an entity definition to add to the crate</p>
                
            </td>
        </tr>

    
    </tbody>
</table>














<div class="section-returns">
<h5>Returns:</h5>

        


<div class="param-desc">
    <p>the entity</p>
</div>

    
</div>



<div class="section-examples">
<h5>Example</h5>

    <pre class="prettyprint"><code>const cm = new CrateManager({ crate })
let entity = {
    "@id": '#e1',
    "@type": "Person",
    name: 'person1',
};
let r = cm.addEntity(entity);</code></pre>

</div>

</div>
        
            
<div class="section-method">

    

    <h4 class="name" id="addFile"><span class="type-signature"></span>addFile<span class="signature">(path)</span><span class="type-signature"></span></h4>

    



<div class="description">
    <p>This is a helper method specifically for adding files to the crate. This method
will add the intermediate paths as 'Datasets' (as per the spec) and link everything via the hasPart
property as required. It is assumed that the path is relative to the root of the folder.</p>
</div>





<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="CrateManager_crate-manager.js.html">CrateManager/crate-manager.js</a>, <a href="CrateManager_crate-manager.js.html#line820">line 820</a>
    </li></ul></dd>
    

    

    

    
</dl>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>path</code></td>
            

            <td class="type">
            
                
<span class="param-type"><code>string</code></span>


            
            </td>

            

            

            <td class="description last">
                <p>a file path to add - ensure the file path is relative to the folder root</p>
                
            </td>
        </tr>

    
    </tbody>
</table>














<div class="section-returns">
<h5>Returns:</h5>

        


<div class="param-desc">
    <p>the entity</p>
</div>

    
</div>



<div class="section-examples">
<h5>Example</h5>

    <pre class="prettyprint"><code>const cm = new CrateManager({ crate })
let r = cm.addFile('/a/b/c/file.txt);</code></pre>

</div>

</div>
        
            
<div class="section-method">

    

    <h4 class="name" id="addFileOrFolder"><span class="type-signature"></span>addFileOrFolder<span class="signature">(params)</span><span class="type-signature"></span></h4>

    



<div class="description">
    <p>This is a helper method specifically for adding files and folders in the crate. This method
will add the intermediate paths as 'Datasets' (as per the spec) and link everything via the hasPart
property as required. It is assumed that the path is relative to the root of the folder.</p>
</div>





<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="CrateManager_crate-manager.js.html">CrateManager/crate-manager.js</a>, <a href="CrateManager_crate-manager.js.html#line742">line 742</a>
    </li></ul></dd>
    

    

    

    
</dl>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>params</code></td>
            

            <td class="type">
            
                
<span class="param-type"><code>object</code></span>


            
            </td>

            

            

            <td class="description last">
                
                
                    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>path</code></td>
            

            <td class="type">
            
                
<span class="param-type"><code>string</code></span>


            
            </td>

            

            

            <td class="description last">
                <p>a file or folder path</p>
                
            </td>
        </tr>

    

        <tr>
            
                <td class="name"><code>type</code></td>
            

            <td class="type">
            
                
<span class="param-type"><code>string</code></span>


            
            </td>

            

            

            <td class="description last">
                <p>the type of thing being added - File or Dataset</p>
                
            </td>
        </tr>

    
    </tbody>
</table>

                
            </td>
        </tr>

    
    </tbody>
</table>














<div class="section-returns">
<h5>Returns:</h5>

        


<div class="param-desc">
    <p>the entity</p>
</div>

    
</div>



<div class="section-examples">
<h5>Example</h5>

    <pre class="prettyprint"><code>const cm = new CrateManager({ crate })
let r = cm.addFileOrFolder('/a/b/c/file.txt);</code></pre>

</div>

</div>
        
            
<div class="section-method">

    

    <h4 class="name" id="addFolder"><span class="type-signature"></span>addFolder<span class="signature">(path)</span><span class="type-signature"></span></h4>

    



<div class="description">
    <p>This is a helper method specifically for adding folders to the crate. This method
will add the intermediate paths as 'Datasets' (as per the spec) and link everything via the hasPart
property as required. It is assumed that the path is relative to the root of the folder.</p>
</div>





<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="CrateManager_crate-manager.js.html">CrateManager/crate-manager.js</a>, <a href="CrateManager_crate-manager.js.html#line838">line 838</a>
    </li></ul></dd>
    

    

    

    
</dl>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>path</code></td>
            

            <td class="type">
            
                
<span class="param-type"><code>string</code></span>


            
            </td>

            

            

            <td class="description last">
                <p>a folder path to add - ensure the folder path is relative to the folder root</p>
                
            </td>
        </tr>

    
    </tbody>
</table>














<div class="section-returns">
<h5>Returns:</h5>

        


<div class="param-desc">
    <p>the entity</p>
</div>

    
</div>



<div class="section-examples">
<h5>Example</h5>

    <pre class="prettyprint"><code>const cm = new CrateManager({ crate })
let r = cm.addFolder('/a/b/c);</code></pre>

</div>

</div>
        
            
<div class="section-method">

    

    <h4 class="name" id="deleteAllProperties"><span class="type-signature"></span>deleteAllProperties<span class="signature">()</span><span class="type-signature"></span></h4>

    



<div class="description">
    <p>Delete all data attached to a property. That is, all instances.</p>
</div>





<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="CrateManager_crate-manager.js.html">CrateManager/crate-manager.js</a>, <a href="CrateManager_crate-manager.js.html#line1075">line 1075</a>
    </li></ul></dd>
    

    

    

    
</dl>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code></code></td>
            

            <td class="type">
            
                
<span class="param-type"><code>Object</code></span>


            
            </td>

            

            

            <td class="description last">
                
                
            </td>
        </tr>

    

        <tr>
            
                <td class="name"><code>options.id</code></td>
            

            <td class="type">
            
                
<span class="param-type"><code>string</code></span>


            
            </td>

            

            

            <td class="description last">
                <p>the id of the entity to remove the property value from</p>
                
            </td>
        </tr>

    

        <tr>
            
                <td class="name"><code>options.property</code></td>
            

            <td class="type">
            
                
<span class="param-type"><code>string</code></span>


            
            </td>

            

            

            <td class="description last">
                <p>the property</p>
                
            </td>
        </tr>

    
    </tbody>
</table>
















<div class="section-examples">
<h5>Example</h5>

    <pre class="prettyprint"><code>const cm = new CrateManager({ crate })
cm.deleteAllProperties({ id: "./", property: "author" });</code></pre>

</div>

</div>
        
            
<div class="section-method">

    

    <h4 class="name" id="deleteEntity"><span class="type-signature"></span>deleteEntity<span class="signature">(options)</span><span class="type-signature"></span></h4>

    



<div class="description">
    <p>Delete an entity</p>
</div>





<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="CrateManager_crate-manager.js.html">CrateManager/crate-manager.js</a>, <a href="CrateManager_crate-manager.js.html#line855">line 855</a>
    </li></ul></dd>
    

    

    

    
</dl>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>options</code></td>
            

            <td class="type">
            
                
<span class="param-type"><code>Object</code></span>


            
            </td>

            

            

            <td class="description last">
                
                
                    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>id</code></td>
            

            <td class="type">
            
                
<span class="param-type"><code>string</code></span>


            
            </td>

            

            

            <td class="description last">
                <p>the id of the entity to delete from the crate</p>
                
            </td>
        </tr>

    
    </tbody>
</table>

                
            </td>
        </tr>

    
    </tbody>
</table>














<div class="section-returns">
<h5>Returns:</h5>

        


<div class="param-desc">
    <p>true if successful</p>
</div>

    
</div>



<div class="section-examples">
<h5>Example</h5>

    <pre class="prettyprint"><code>const cm = new CrateManager({ crate })
cm.deleteEntity({ id: '#e1' })</code></pre>

</div>

</div>
        
            
<div class="section-method">

    

    <h4 class="name" id="deleteProperty"><span class="type-signature"></span>deleteProperty<span class="signature">()</span><span class="type-signature"></span></h4>

    



<div class="description">
    <p>Delete a specific property from the entity. That is, an instance of a property.</p>
</div>





<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="CrateManager_crate-manager.js.html">CrateManager/crate-manager.js</a>, <a href="CrateManager_crate-manager.js.html#line1047">line 1047</a>
    </li></ul></dd>
    

    

    

    
</dl>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code></code></td>
            

            <td class="type">
            
                
<span class="param-type"><code>Object</code></span>


            
            </td>

            

            

            <td class="description last">
                
                
            </td>
        </tr>

    

        <tr>
            
                <td class="name"><code>options.id</code></td>
            

            <td class="type">
            
                
<span class="param-type"><code>string</code></span>


            
            </td>

            

            

            <td class="description last">
                <p>the id of the entity to remove the property value from</p>
                
            </td>
        </tr>

    

        <tr>
            
                <td class="name"><code>options.property</code></td>
            

            <td class="type">
            
                
<span class="param-type"><code>string</code></span>


            
            </td>

            

            

            <td class="description last">
                <p>the property</p>
                
            </td>
        </tr>

    

        <tr>
            
                <td class="name"><code>options.idx</code></td>
            

            <td class="type">
            
                
<span class="param-type"><code>string</code></span>


            
            </td>

            

            

            <td class="description last">
                <p>the idx of the property array to delete</p>
                
            </td>
        </tr>

    
    </tbody>
</table>
















<div class="section-examples">
<h5>Example</h5>

    <pre class="prettyprint"><code>const cm = new CrateManager({ crate })
cm.deleteProperty({ id: "./", property: "author", idx: 1 });</code></pre>

</div>

</div>
        
            
<div class="section-method">

    

    <h4 class="name" id="exportCrate"><span class="type-signature"></span>exportCrate<span class="signature">()</span><span class="type-signature"></span></h4>

    



<div class="description">
    <p>Export the RO-Crate</p>
</div>





<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="CrateManager_crate-manager.js.html">CrateManager/crate-manager.js</a>, <a href="CrateManager_crate-manager.js.html#line1360">line 1360</a>
    </li></ul></dd>
    

    

    

    
</dl>





















<div class="section-returns">
<h5>Returns:</h5>

        


<div class="param-desc">
    <p>the complete ro-crate</p>
</div>

    
</div>



<div class="section-examples">
<h5>Example</h5>

    <pre class="prettyprint"><code>const cm = new CrateManager({ crate })
let crate = cm.exportCrate()</code></pre>

</div>

</div>
        
            
<div class="section-method">

    

    <h4 class="name" id="exportEntityTemplate"><span class="type-signature"></span>exportEntityTemplate<span class="signature">(options)</span><span class="type-signature"></span></h4>

    



<div class="description">
    <ol>
<li>If resolveDepth = 0 then the entity is returned with all associations removed</li>
<li>If resolveDepth = 1 then the entity is returned with one level of associations populated but
all of their associations will be removed.</li>
</ol>
</div>





<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="CrateManager_crate-manager.js.html">CrateManager/crate-manager.js</a>, <a href="CrateManager_crate-manager.js.html#line1411">line 1411</a>
    </li></ul></dd>
    

    

    

    
</dl>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>options</code></td>
            

            <td class="type">
            
                
<span class="param-type"><code>Object</code></span>


            
            </td>

            

            

            <td class="description last">
                
                
                    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>id</code></td>
            

            <td class="type">
            
                
<span class="param-type"><code>String</code></span>


            
            </td>

            

            

            <td class="description last">
                <p>the id of the entity to export as a template</p>
                
            </td>
        </tr>

    

        <tr>
            
                <td class="name"><code>resolveDepth</code></td>
            

            <td class="type">
            
                
<span class="param-type"><code>String</code></span>


            
            </td>

            

            

            <td class="description last">
                <p>0 or 1. If 1, linked entities will be joined in</p>
                
            </td>
        </tr>

    
    </tbody>
</table>

                
            </td>
        </tr>

    
    </tbody>
</table>














<div class="section-returns">
<h5>Returns:</h5>

        


<div class="param-desc">
    <p>entity</p>
</div>

    
</div>



<div class="section-examples">
<h5>Example</h5>

    <pre class="prettyprint"><code>const cm = new CrateManager({ crate })
let entity = cm.exportEntityTemplate({ id: '#person' })
let entity = cm.exportEntityTemplate({ id: '#person', resolveDepth: 1 })</code></pre>

</div>

</div>
        
            
<div class="section-method">

    

    <h4 class="name" id="flatten"><span class="type-signature"></span>flatten<span class="signature">(json)</span><span class="type-signature"></span></h4>

    



<div class="description">
    <p>Flatten a nested json object to an array</p>
</div>





<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="CrateManager_crate-manager.js.html">CrateManager/crate-manager.js</a>, <a href="CrateManager_crate-manager.js.html#line1149">line 1149</a>
    </li></ul></dd>
    

    

    

    
</dl>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>json</code></td>
            

            <td class="type">
            
                
<span class="param-type"><code>Object</code></span>


            
            </td>

            

            

            <td class="description last">
                <p>a potentially nested data blob to flatten into array</p>
                
            </td>
        </tr>

    
    </tbody>
</table>














<div class="section-returns">
<h5>Returns:</h5>

        


<div class="param-desc">
    <p>an array of objects</p>
</div>

    
</div>



<div class="section-examples">
<h5>Example</h5>

    <pre class="prettyprint"><code>const cm = new CrateManager({ crate })
let json = {
    ...,
}
let arrayOfObjects = cm.flatten(json)</code></pre>

</div>

</div>
        
            
<div class="section-method">

    

    <h4 class="name" id="getContext"><span class="type-signature"></span>getContext<span class="signature">()</span><span class="type-signature"></span></h4>

    



<div class="description">
    <p>Get the context</p>
</div>





<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="CrateManager_crate-manager.js.html">CrateManager/crate-manager.js</a>, <a href="CrateManager_crate-manager.js.html#line267">line 267</a>
    </li></ul></dd>
    

    

    

    
</dl>





















<div class="section-returns">
<h5>Returns:</h5>

        


<div class="param-desc">
    <p>the crate context</p>
</div>

    
</div>



</div>
        
            
<div class="section-method">

    

    <h4 class="name" id="getEntities"><span class="type-signature">(generator) </span>getEntities<span class="signature">(params)</span><span class="type-signature"></span></h4>

    







<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="CrateManager_crate-manager.js.html">CrateManager/crate-manager.js</a>, <a href="CrateManager_crate-manager.js.html#line410">line 410</a>
    </li></ul></dd>
    

    

    

    
</dl>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>params</code></td>
            

            <td class="type">
            
                
<span class="param-type"><code>Object</code></span>


            
            </td>

            

            

            <td class="description last">
                
                
                    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>limit</code></td>
            

            <td class="type">
            
                
<span class="param-type"><code>Number</code></span>


            
            </td>

            

            

            <td class="description last">
                <p>how many entities to return</p>
                
            </td>
        </tr>

    

        <tr>
            
                <td class="name"><code>query</code></td>
            

            <td class="type">
            
                
<span class="param-type"><code>string</code></span>


            
            </td>

            

            

            <td class="description last">
                <p>a string to match against @id, @type and name</p>
                
            </td>
        </tr>

    

        <tr>
            
                <td class="name"><code>type</code></td>
            

            <td class="type">
            
                
<span class="param-type"><code>string</code></span>


            
            </td>

            

            

            <td class="description last">
                <p>a string to match against @type</p>
                
            </td>
        </tr>

    
    </tbody>
</table>

                
            </td>
        </tr>

    
    </tbody>
</table>
















<div class="section-examples">
<h5>Example</h5>

    <pre class="prettyprint"><code>const cm = new CrateManager({crate})
let entities = cm.getEntities()

for (let entity of entities) {
    ...
}

To get an array just spread the return
let entities = [ ...cm.getEntities() ]

// query @id, @type and name
entities = cm.getEntities({ query: 'person' })

// query @id, @type and name for entites of type Person
entities = cm.getEntities({ query: 'person', type: 'Person' })

// query @id, @type and name for entites of type Person - limit 10 matches
entities = cm.getEntities({ query: 'person', type: 'Person', limit: 10 })</code></pre>

</div>

</div>
        
            
<div class="section-method">

    

    <h4 class="name" id="getEntity"><span class="type-signature"></span>getEntity<span class="signature">(options)</span><span class="type-signature"></span></h4>

    



<div class="description">
    <p>Get an entity</p>
</div>





<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="CrateManager_crate-manager.js.html">CrateManager/crate-manager.js</a>, <a href="CrateManager_crate-manager.js.html#line340">line 340</a>
    </li></ul></dd>
    

    

    

    
</dl>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>options</code></td>
            

            <td class="type">
            
                
<span class="param-type"><code>Object</code></span>


            
            </td>

            

            

            <td class="description last">
                
                
                    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>id</code></td>
            

            <td class="type">
            
                
<span class="param-type"><code>string</code></span>


            
            </td>

            

            

            <td class="description last">
                <p>the id of the entity to get</p>
                
            </td>
        </tr>

    

        <tr>
            
                <td class="name"><code>stub</code></td>
            

            <td class="type">
            
                
<span class="param-type"><code>boolean</code></span>


            
            </td>

            

            

            <td class="description last">
                <p>if true, only the <code>@id, @type and name</code> prop's will be returned. That is,
you get a stub entry not the complete entity data.</p>
                
            </td>
        </tr>

    

        <tr>
            
                <td class="name"><code>link</code></td>
            

            <td class="type">
            
                
<span class="param-type"><code>boolean</code></span>


            
            </td>

            

            

            <td class="description last">
                <p>if true, all the associated entities are filled out as stubs</p>
                
            </td>
        </tr>

    

        <tr>
            
                <td class="name"><code>materialise</code></td>
            

            <td class="type">
            
                
<span class="param-type"><code>boolean</code></span>


            
            </td>

            

            

            <td class="description last">
                <p>if true, the entity will be created if it doesn't exist (consider
when URL's point outside the crate, in this case, they will be created as entities inside it)</p>
                
            </td>
        </tr>

    
    </tbody>
</table>

                
            </td>
        </tr>

    
    </tbody>
</table>














<div class="section-returns">
<h5>Returns:</h5>

        


<div class="param-desc">
    <p>the entity</p>
</div>

    
</div>



<div class="section-examples">
<h5>Example</h5>

    <pre class="prettyprint"><code>const cm = new CrateManager({ crate })

// get the full entity
let rd = cm.getEntity({ id: './' })

// return a stub entry
rd = cm.getEntity({ id: './', stub: true })</code></pre>

</div>

</div>
        
            
<div class="section-method">

    

    <h4 class="name" id="getEntityTypes"><span class="type-signature"></span>getEntityTypes<span class="signature">()</span><span class="type-signature"></span></h4>

    



<div class="description">
    <p>Get Entity Types</p>
</div>





<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="CrateManager_crate-manager.js.html">CrateManager/crate-manager.js</a>, <a href="CrateManager_crate-manager.js.html#line376">line 376</a>
    </li></ul></dd>
    

    

    

    
</dl>





















<div class="section-returns">
<h5>Returns:</h5>

        


<div class="param-desc">
    <p>an array of entity types, sorted, found in the crate</p>
</div>

    
</div>



</div>
        
            
<div class="section-method">

    

    <h4 class="name" id="getErrors"><span class="type-signature"></span>getErrors<span class="signature">()</span><span class="type-signature"> &rarr; {errors}</span></h4>

    



<div class="description">
    <p>getErrors</p>
</div>





<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="CrateManager_crate-manager.js.html">CrateManager/crate-manager.js</a>, <a href="CrateManager_crate-manager.js.html#line1452">line 1452</a>
    </li></ul></dd>
    

    

    

    
</dl>





















<div class="section-returns">
<h5>Returns:</h5>

        

<dl class="param-type">
    <dt>
        Type:
    </dt>
    <dd>
        
<span class="param-type"><code>errors</code></span>


    </dd>
</dl>


    
</div>



</div>
        
            
<div class="section-method">

    

    <h4 class="name" id="getRootDataset"><span class="type-signature"></span>getRootDataset<span class="signature">()</span><span class="type-signature"></span></h4>

    



<div class="description">
    <p>Get the root dataset</p>
</div>





<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="CrateManager_crate-manager.js.html">CrateManager/crate-manager.js</a>, <a href="CrateManager_crate-manager.js.html#line311">line 311</a>
    </li></ul></dd>
    

    

    

    
</dl>





















<div class="section-returns">
<h5>Returns:</h5>

        


<div class="param-desc">
    <p>the root dataset entity</p>
</div>

    
</div>



<div class="section-examples">
<h5>Example</h5>

    <pre class="prettyprint"><code>const cm = new CrateManager({ crate })
let rd = cm.getRootDataset()</code></pre>

</div>

</div>
        
            
<div class="section-method">

    

    <h4 class="name" id="getWarnings"><span class="type-signature"></span>getWarnings<span class="signature">()</span><span class="type-signature"> &rarr; {warnings}</span></h4>

    



<div class="description">
    <p>getWarnings</p>
</div>





<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="CrateManager_crate-manager.js.html">CrateManager/crate-manager.js</a>, <a href="CrateManager_crate-manager.js.html#line1461">line 1461</a>
    </li></ul></dd>
    

    

    

    
</dl>





















<div class="section-returns">
<h5>Returns:</h5>

        

<dl class="param-type">
    <dt>
        Type:
    </dt>
    <dd>
        
<span class="param-type"><code>warnings</code></span>


    </dd>
</dl>


    
</div>



</div>
        
            
<div class="section-method">

    

    <h4 class="name" id="ingestAndLink"><span class="type-signature"></span>ingestAndLink<span class="signature">(options)</span><span class="type-signature"></span></h4>

    



<div class="description">
    <p>Ingest and link a nested json object</p>
</div>





<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="CrateManager_crate-manager.js.html">CrateManager/crate-manager.js</a>, <a href="CrateManager_crate-manager.js.html#line1109">line 1109</a>
    </li></ul></dd>
    

    

    

    
</dl>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>options</code></td>
            

            <td class="type">
            
                
<span class="param-type"><code>Object</code></span>


            
            </td>

            

            

            <td class="description last">
                
                
                    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>id</code></td>
            

            <td class="type">
            
                
<span class="param-type"><code>string</code></span>


            
            </td>

            

            

            <td class="description last">
                <p>the id of the entity to join the data into</p>
                
            </td>
        </tr>

    

        <tr>
            
                <td class="name"><code>property</code></td>
            

            <td class="type">
            
                
<span class="param-type"><code>string</code></span>


            
            </td>

            

            

            <td class="description last">
                <p>the property to join the data into</p>
                
            </td>
        </tr>

    

        <tr>
            
                <td class="name"><code>json</code></td>
            

            <td class="type">
            
                
<span class="param-type"><code>json</code></span>


            
            </td>

            

            

            <td class="description last">
                <p>the data object to join in</p>
                
            </td>
        </tr>

    
    </tbody>
</table>

                
            </td>
        </tr>

    
    </tbody>
</table>
















<div class="section-examples">
<h5>Example</h5>

    <pre class="prettyprint"><code>const cm = new CrateManager({ crate })
let json = {
    ...,
}
cm.ingestAndLink({
    id: "./",
    property: "language",
    json,
});</code></pre>

</div>

</div>
        
            
<div class="section-method">

    

    <h4 class="name" id="linkEntity"><span class="type-signature"></span>linkEntity<span class="signature">(options)</span><span class="type-signature"></span></h4>

    



<div class="description">
    <p>Link two entities via a property. If there is a profile defined
and it has reverse associations, then they will be added.</p>
</div>





<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="CrateManager_crate-manager.js.html">CrateManager/crate-manager.js</a>, <a href="CrateManager_crate-manager.js.html#line1185">line 1185</a>
    </li></ul></dd>
    

    

    

    
</dl>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>options</code></td>
            

            <td class="type">
            
                
<span class="param-type"><code>Object</code></span>


            
            </td>

            

            

            <td class="description last">
                
                
                    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>id</code></td>
            

            <td class="type">
            
                
<span class="param-type"><code>string</code></span>


            
            </td>

            

            

            <td class="description last">
                <p>the id of the entity to add the association to</p>
                
            </td>
        </tr>

    

        <tr>
            
                <td class="name"><code>property</code></td>
            

            <td class="type">
            
                
<span class="param-type"><code>string</code></span>


            
            </td>

            

            

            <td class="description last">
                <p>the property to add the association to</p>
                
            </td>
        </tr>

    

        <tr>
            
                <td class="name"><code>value</code></td>
            

            <td class="type">
            
                
<span class="param-type"><code>object</code></span>


            
            </td>

            

            

            <td class="description last">
                <p>an object with '@id' defining the association to create</p>
                
            </td>
        </tr>

    
    </tbody>
</table>

                
            </td>
        </tr>

    
    </tbody>
</table>
















<div class="section-examples">
<h5>Example</h5>

    <pre class="prettyprint"><code>const cm = new CrateManager({ crate })
cm.linkEntity({ id: './', property: 'author', value: { '@id': '#e1' }})</code></pre>

</div>

</div>
        
            
<div class="section-method">

    

    <h4 class="name" id="locateEntity"><span class="type-signature"></span>locateEntity<span class="signature">(params)</span><span class="type-signature"></span></h4>

    



<div class="description">
    <p>Given a set of id's, find the entity or entities that link to all of them.
This is really for finding grouping type entities like Relationships and Actions so that
you can augment their description.</p>
</div>





<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="CrateManager_crate-manager.js.html">CrateManager/crate-manager.js</a>, <a href="CrateManager_crate-manager.js.html#line477">line 477</a>
    </li></ul></dd>
    

    

    

    
</dl>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>params</code></td>
            

            <td class="type">
            
                
<span class="param-type"><code>object</code></span>


            
            </td>

            

            

            <td class="description last">
                
                
                    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>entityIds</code></td>
            

            <td class="type">
            
                
<span class="param-type"><code>array</code></span>


            
            </td>

            

            

            <td class="description last">
                <p>an array of entity id's that are linked to from another entity</p>
                
            </td>
        </tr>

    

        <tr>
            
                <td class="name"><code>strict</code></td>
            

            <td class="type">
            
                
<span class="param-type"><code>boolean</code></span>


            
            </td>

            

            

            <td class="description last">
                <p>if true return entities that have exactly entityIds linked. If false,
return entities that have at least entityIds linked</p>
                
            </td>
        </tr>

    
    </tbody>
</table>

                
            </td>
        </tr>

    
    </tbody>
</table>














<div class="section-returns">
<h5>Returns:</h5>

        


<div class="param-desc">
    <p>[] entities matching or undefined</p>
</div>

    
</div>



</div>
        
            
<div class="section-method">

    

    <h4 class="name" id="purgeUnlinkedEntities"><span class="type-signature"></span>purgeUnlinkedEntities<span class="signature">()</span><span class="type-signature"></span></h4>

    



<div class="description">
    <ul>
<li>clean up the graph and purge any unlinked entities including disconnected subtrees.</li>
</ul>
</div>





<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="CrateManager_crate-manager.js.html">CrateManager/crate-manager.js</a>, <a href="CrateManager_crate-manager.js.html#line1291">line 1291</a>
    </li></ul></dd>
    

    

    

    
</dl>























<div class="section-examples">
<h5>Example</h5>

    <pre class="prettyprint"><code>const cm = new CrateManager({ crate })
cm.purgeUnlinkedEntities()</code></pre>

</div>

</div>
        
            
<div class="section-method">

    

    <h4 class="name" id="resolveLinkedEntityAssociations"><span class="type-signature"></span>resolveLinkedEntityAssociations<span class="signature">(entity, profile)</span><span class="type-signature"></span></h4>

    



<div class="description">
    <p>resolveLinkedEntities</p>
<p>Given an entity and a profile, if the entity matches a resolve configuration
this method will populate the entities linked from the resolve properties
defined in the profile.</p>
</div>





<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="CrateManager_crate-manager.js.html">CrateManager/crate-manager.js</a>, <a href="CrateManager_crate-manager.js.html#line587">line 587</a>
    </li></ul></dd>
    

    

    

    
</dl>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>entity</code></td>
            

            <td class="type">
            
                
<span class="param-type"><code>Object</code></span>


            
            </td>

            

            

            <td class="description last">
                
                
            </td>
        </tr>

    

        <tr>
            
                <td class="name"><code>profile</code></td>
            

            <td class="type">
            
                
<span class="param-type"><code>Object</code></span>


            
            </td>

            

            

            <td class="description last">
                
                
            </td>
        </tr>

    
    </tbody>
</table>














<div class="section-returns">
<h5>Returns:</h5>

        


<div class="param-desc">
    <p>an array of associations</p>
</div>

    
</div>



<div class="section-examples">
<h5>Example</h5>

    <pre class="prettyprint"><code>// given an entity
let entity = {
    "@id": "#createAction1",
    "@type": ["CreateAction"],
    name: "A very long named create action to demonstrate what happens with display of long names",
    object: { "@id": "#person2" },
    participant: { "@id": "#participant1" },
    agent: { "@id": "#agent1" },
};

// and a profile with a resolve configuration
let profile = {
    ...
    resolve: [
        {
            types: [ 'Relationship', 'Related' ],
            properties: [ 'source', 'target' ]
        },
        {
            types: [ 'CreateAction', 'EditAction' ],
            properties: [ 'object', 'participant', 'agent' ]
        }
    ]
    ...
}

// get a list of the associated entities
console.log(cm.resolveLinkedEntityAssociations({ entity, profile }))


associations === [
  {
    property: 'object',
    '@id': '#person2',
    '@type': [ 'Thing' ],
    name: '#person2'
  },
  {
    property: 'participant',
    '@id': '#participant1',
    '@type': [ 'Thing' ],
    name: '#participant1'
  },
  {
    property: 'agent',
    '@id': '#agent1',
    '@type': [ 'Thing' ],
    name: '#agent1'
  }
]</code></pre>

</div>

</div>
        
            
<div class="section-method">

    

    <h4 class="name" id="setContext"><span class="type-signature"></span>setContext<span class="signature">(context)</span><span class="type-signature"></span></h4>

    



<div class="description">
    <p>This is equivalent to a profile author setting a context. It gets
used as is and data updates going forward do not get dealth with.</p>
</div>





<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="CrateManager_crate-manager.js.html">CrateManager/crate-manager.js</a>, <a href="CrateManager_crate-manager.js.html#line288">line 288</a>
    </li></ul></dd>
    

    

    

    
</dl>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>context</code></td>
            

            <td class="type">
            
                
<span class="param-type"><code>*</code></span>


            
            </td>

            

            

            <td class="description last">
                
                
            </td>
        </tr>

    
    </tbody>
</table>
















</div>
        
            
<div class="section-method">

    

    <h4 class="name" id="setProfileManager"><span class="type-signature"></span>setProfileManager<span class="signature">()</span><span class="type-signature"></span></h4>

    



<div class="description">
    <p>CrateManager can set reverse associations if defined in a profile.</p>
</div>





<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="CrateManager_crate-manager.js.html">CrateManager/crate-manager.js</a>, <a href="CrateManager_crate-manager.js.html#line297">line 297</a>
    </li></ul></dd>
    

    

    

    
</dl>























</div>
        
            
<div class="section-method">

    

    <h4 class="name" id="setProperty"><span class="type-signature"></span>setProperty<span class="signature">(options)</span><span class="type-signature"></span></h4>

    



<div class="description">
    <p>Set a property on an entity</p>
</div>





<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="CrateManager_crate-manager.js.html">CrateManager/crate-manager.js</a>, <a href="CrateManager_crate-manager.js.html#line930">line 930</a>
    </li></ul></dd>
    

    

    

    
</dl>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>options</code></td>
            

            <td class="type">
            
                
<span class="param-type"><code>Object</code></span>


            
            </td>

            

            

            <td class="description last">
                
                
                    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>id</code></td>
            

            <td class="type">
            
                
<span class="param-type"><code>options.id</code></span>


            
            </td>

            

            

            <td class="description last">
                <p>the id of the entity to add the property to</p>
                
            </td>
        </tr>

    

        <tr>
            
                <td class="name"><code>property</code></td>
            

            <td class="type">
            
                
<span class="param-type"><code>options.property</code></span>


            
            </td>

            

            

            <td class="description last">
                <p>the property to add</p>
                
            </td>
        </tr>

    

        <tr>
            
                <td class="name"><code>value</code></td>
            

            <td class="type">
            
                
<span class="param-type"><code>options.value</code></span>


            
            </td>

            

            

            <td class="description last">
                <p>the data to add to that property. Can be string or object with '@id'</p>
                
            </td>
        </tr>

    
    </tbody>
</table>

                
            </td>
        </tr>

    
    </tbody>
</table>














<div class="section-returns">
<h5>Returns:</h5>

        


<div class="param-desc">
    <p>true if successful</p>
</div>

    
</div>



<div class="section-examples">
<h5>Example</h5>

    <pre class="prettyprint"><code>const cm = new CrateManager({ crate })
const authorId = chance.url();

//  setting an object reference
cm.setProperty({ id: "./", property: "author", value: { "@id": authorId } });

//  setting a text string
cm.setProperty({ id: "./", property: "author", value: "text" });

//  setting a number
cm.setProperty({ id: "./", property: "author", value: 3 });</code></pre>

</div>

</div>
        
            
<div class="section-method">

    

    <h4 class="name" id="unlinkEntity"><span class="type-signature"></span>unlinkEntity<span class="signature">(options)</span><span class="type-signature"></span></h4>

    



<div class="description">
    <p>Remove an association between two entities. If there is a profile defined
and it has reverse associations, then they will be removed as well.</p>
</div>





<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="CrateManager_crate-manager.js.html">CrateManager/crate-manager.js</a>, <a href="CrateManager_crate-manager.js.html#line1223">line 1223</a>
    </li></ul></dd>
    

    

    

    
</dl>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>options</code></td>
            

            <td class="type">
            
                
<span class="param-type"><code>Object</code></span>


            
            </td>

            

            

            <td class="description last">
                
                
                    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>id</code></td>
            

            <td class="type">
            
                
<span class="param-type"><code>string</code></span>


            
            </td>

            

            

            <td class="description last">
                <p>the id of the entity to remove the association from</p>
                
            </td>
        </tr>

    

        <tr>
            
                <td class="name"><code>property</code></td>
            

            <td class="type">
            
                
<span class="param-type"><code>string</code></span>


            
            </td>

            

            

            <td class="description last">
                <p>the property containing the association</p>
                
            </td>
        </tr>

    

        <tr>
            
                <td class="name"><code>value</code></td>
            

            <td class="type">
            
                
<span class="param-type"><code>object</code></span>


            
            </td>

            

            

            <td class="description last">
                <p>an object with '@id' defining the association to remove</p>
                
            </td>
        </tr>

    
    </tbody>
</table>

                
            </td>
        </tr>

    
    </tbody>
</table>
















<div class="section-examples">
<h5>Example</h5>

    <pre class="prettyprint"><code>const cm = new CrateManager({ crate })
const cm = new CrateManager({ crate })
cm.unlinkEntity({ id: './', property: 'author', value: { '@id': '#e1' }})</code></pre>

</div>

</div>
        
            
<div class="section-method">

    

    <h4 class="name" id="updateProperty"><span class="type-signature"></span>updateProperty<span class="signature">(options)</span><span class="type-signature"></span></h4>

    



<div class="description">
    <p>Update a property on an entity</p>
</div>





<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="CrateManager_crate-manager.js.html">CrateManager/crate-manager.js</a>, <a href="CrateManager_crate-manager.js.html#line989">line 989</a>
    </li></ul></dd>
    

    

    

    
</dl>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>options</code></td>
            

            <td class="type">
            
                
<span class="param-type"><code>Object</code></span>


            
            </td>

            

            

            <td class="description last">
                
                
                    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>id</code></td>
            

            <td class="type">
            
                
<span class="param-type"><code>string</code></span>


            
            </td>

            

            

            <td class="description last">
                <p>the id of the entity to add the property to</p>
                
            </td>
        </tr>

    

        <tr>
            
                <td class="name"><code>property</code></td>
            

            <td class="type">
            
                
<span class="param-type"><code>string</code></span>


            
            </td>

            

            

            <td class="description last">
                <p>the property to add</p>
                
            </td>
        </tr>

    

        <tr>
            
                <td class="name"><code>idx</code></td>
            

            <td class="type">
            
                
<span class="param-type"><code>string</code></span>


            
            </td>

            

            

            <td class="description last">
                <p>the idx of the property array to update</p>
                
            </td>
        </tr>

    

        <tr>
            
                <td class="name"><code>value</code></td>
            

            <td class="type">
            
                
<span class="param-type"><code>string</code></span>


            
            </td>

            

            

            <td class="description last">
                <p>the data to add to that property, string or object with '@id'</p>
                
            </td>
        </tr>

    
    </tbody>
</table>

                
            </td>
        </tr>

    
    </tbody>
</table>
















<div class="section-examples">
<h5>Example</h5>

    <pre class="prettyprint"><code>const cm = new CrateManager({ crate })
cm.updateProperty({ id: "./", property: "@id", value: "something else" });
cm.updateProperty({ id: "./", property: "author", idx: 1, value: "new" });</code></pre>

</div>

</div>
        
    

    

    
</article>

</section>




</div>

<br class="clear">

<footer>
    Generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 4.0.3</a> on Sat Jun 29 2024 10:13:19 GMT+1000 (Australian Eastern Standard Time) using the Minami theme.
</footer>

<script>prettyPrint();</script>
<script src="scripts/linenumber.js"></script>
</body>
</html>